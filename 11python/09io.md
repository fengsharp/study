# 09 文件操作
## 09.01 概念
数据往往存在硬盘中的文件中，数据库不过是按照规则管理文件的系统而已（当然是特别复杂的管理系统）  
处理数据的第一步往往是从硬盘文件中读入数据  
处理完毕数据，也可能需要写回硬盘保存  
因此文件的常见操作，包括读和写文件两件事情  
文件的格式有很多，最常见的莫过于文本数据，其他的如Excel，有专门的库读写单元格数据  
而像图片、视频，是二进制的数据，因此从大的方向来分，文件格式基本可以分为文本数据和二进制数据  
掌握最常见的文本文件的读写是基础，Excel的文件，在使用特定库进行操作的时候，也是按照打开-读|写-关闭三步骤进行，只不过Excel文件格式复杂，会有对应的接口对应特定的Sheet、单元格等对象  
掌握最简单的文本读写是基础  

## 09.02 打开和关闭
```python
f = open('test.txt', 'w')
# 模式有：
# r 只读
# w 只写 如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件
# a 追加写 如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入
# r+ 打开一个文件用于读写。文件指针将会放在文件的开头
# w+ 打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件

f.close()
# 打开和关闭都不能少
```
理解模型：
- open 命令cpu告诉硬盘：硬盘，找到XXX文件，把文件的信息给我，我后面可能要读写这个文件的数据，open返回的值可以认为是文件对象，也可以简单认为是硬盘中文件的位置
- close 命令cpu告诉硬盘：硬盘，XXX文件我已经读写过了，把这个文件关了吧，不需要这个资源了

## 09.03 路径问题
windows里面的路径是分盘符的，保险期间，数据尽量和代码文件在一块，这样运行的代码的时候，当前目录就作为了根路径，文件的路径可以省去根路径，直接写文件名即可  
或者将文件数据都放在当前代码路径下的一个文件夹【data】里面，那路径可以写"data/xxx.txt"  
路径可以不用Windows的路径方式"dir1\\dir2\\dir3\\xxx.txt"，直接采用Linux路径方式"dir1/dir2/dir3/xxx.txt"  

## 09.04 写内容
```python
file = open("del.txt", "w")
file.write("hello, ")
file.writelines("world!")
file.close()
```

## 10.05 读内容
read(num), 如果不写num，表示读取所有内容
```python
file = open("del.txt", "r")
content = file.read()
print(content)
file.close()
```
读取文件所有内容

## 10.06 拷贝del.txt为del_copy.txt
```python
srcFilePath = "del.txt"
fileFlag = srcFilePath.rfind(".")
fileFormat = srcFilePath[fileFlag:] # .txt
fileName = srcFilePath[:fileFlag] # del
targetFilePath = fileName + "_copy" + fileFormat
print(targetFilePath)

srcFile = open(srcFilePath, "r")
targetFile = open(targetFilePath, "w")

for line in srcFile.readlines():
    targetFile.write(line)

targetFile.close()
srcFile.close()
```

## 10.07 大作业：通讯录
1. 联系人信息，包括：姓名，手机号（仅一个情况）
2. 通讯录里面，提供功能：
    1. 查看所有信息：列出所有联系人信息
    2. 输入姓名查看个人信息：输入联系人姓名，列出联系人信息
    3. 新增加联系人：提示用户输入联系人姓名，年龄，手机号，如果已经存在联系人姓名，则不能添加并列出已存在联系人信息
    4. 删除联系人：输入姓名，如果存在删除，如果不存在，提示待删除联系人不存在
    5. 更新联系人信息：不考虑更新功能
3. 信息保存在文件中
4. 一开始界面提示通信录功能：
    1. 查看所有，输入1
    2. 查看联系人，输入2
    3. 添加联系人，输入3
    4. 删除联系人，输入4